# 동작 파라미터화(behavior parameterization)

아직 어떻게 실행할 것인지 결정하지 않은 코드 블록을 의미한다. 이 코드 블록은 나중에 프로그램에서 호출한다. 예를 들어, 나중에 실행될 메서드의 인수로 코드 블록을 전달하면 결과적으로 코드 블록에 따라 메서드의 동작이 파라미터화된다. 즉, 메서드가 다양한 동작(또는 전략)을 받아서 내부적으로 다양한 동작을 수행할 수 있다.

- 동작 파라미터화에서는 메서드 내부적으로 다양한 동작을 수행할 수 있도록 코드를 메서드 인수로 전달한다.
- 동작 파라미터화를 이용하면 변화하는 요구사항에 더 잘 대응할 수 있는 코드를 구현할 수 있으며 나중에 엔지니어링 비용을 줄일 수 있다.
- 코드 전달 기법을 이용하면 동작을 메서드의 인수로 전달할 수 있다. 하지만 자바 8 이전에는 코드를 지저분하게 구현해야 했다. 익명 클래스로도 어느 정도 코드를 깔끔하게 만들 수 있지만 자바 8에서는 인터페이스를 상속받아 여러 클래스를 구현해야 하는 수고를 없앨 수 있는 방법을 제공한다.
- 자바 API의 많은 메서드는 정렬, 스레드, GUI 처리 등을 포함한 다양한 동작으로 파라미터화할 수 있다.

<br/>

### 전략 디자인 패턴(strategy design pattern)

각 알고리즘(전략이라 불리는)을 캡슐화하는 알고리즘 패밀리를 정의해둔 다음에 런타임에 알고리즘을 선택하는 기법

- `ApplePredicate` : 알고리즘 패밀리
- `AppleHeavyWeightPredicate`, `AppleGreenColorPredicate` : 전략

<br/>

### 전략 디자인 패턴을 사용해 동작 파라미터를 구현하는 방법

1. 인터페이스(알고리즘 패밀리)와 이를 구현한 여러 **클래스**(전략)를 정의하기
   
   단점 : 메서드는 파라미터로 객체를 받기 때문에 새로운 동작을 전달하려면 인터페이스를 구현하는 클래스를 정의하고, 인스턴스화해야 한다. 로직과 관련 없는 코드가 추가됨(클래스 정의부분)
   
   → 클래스의 선언과 인스턴스화를 동시에 수행할 수 있는 **익명 클래스(anonymous class)** 를 이용하면 코드의 양을 줄일 수 있다

2. 인터페이스(알고리즘 패밀리)와 이를 구현한 **익명 클래스**(전략)를 사용하기
   
   단점 : 여전히 클래스 정의를 위한 코드가 추가되며, 많은 프로그래머가 익명 클래스의 사용에 익숙하지 않다
   
   → 더 간단한 코드 전달 기법 : 람다 표현식

3. **람다** 표현식을 사용하기

<br/>

---

출처
- 모던 자바 인 액션(라울-게이브리얼 우르마, 마리오 푸스코, 앨런 마이크로프트)